---
title: "phylosmith"
author: "Schuyler D. smith"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{phylosmith}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

## What `phylosmith` is for

`phylosmith` is a conglomeration of functions written to process and analyze `phyloseq-class` objects. `phyloseq` can be used for anything that has an abundance table with associated metadata, such as microbiome or gene expression data.

A lot of these functions are just to make "data-wrangling" easier for the user. Others will implement complex routines in a, hopefully, efficient and concise manner.

## Installation

```r
library(devtools)
install_github('schuyler-smith/phylosmith')
library(phylosmith)
```

\*for WINDOWS you need to install <a href="https://cran.r-project.org/bin/windows/Rtools/" target="_blank" >Rtools</a>, when prompted, select `add rtools to system PATH`.

## Functions

Call			 | Use
---------------- | ------------------------------------------------
FastCoOccur      | calculate co-occurrence between taxa
bootstrap_rho | runs permutations of the otu_table to calculate a significant $\rho$ value
concatenate_treatments | combines multiple columns in meta-data into a single column
curate_cooccurrence | subsets the co-occurrence table to specific taxa
find_generalists | filter taxa by proportion of samples seen in
find_common_taxa | find taxa common to each treatment
find_unique_taxa | find taxa unique to each treatment
merge_asvs       | combine ASVs to lowest common biological sequence
nmds_phyloseq_ggplot  | create a ggplot object of the NMDS from a phyloseq object
relative_abundance | transform abundance data to relative abundance

## Data

`phylosmith` includes two mock datasets. They are made to meet the phyloseq requirements, but do not represent real data; and therefore are not always perfect examples, but generally demonstrate how the functions operate.


### FastCoOccur

This function is an implementation of the pair-wise Spearman rank correlation that you can call in `R`. The results should be identical. <a href="https://github.com/germs-lab/FastCoOccur" target="_blank" >FastCoOccur</a> was originally written by <a href="https://github.com/metajinomics" target="_blank" >Jin Choi</a> in C++ to be called from the command-line. I rewrote the routine, implementing the <a href="http://www.rcpp.org/" target="_blank" >Rcpp</a> API, so that it could be called within R. 

```r
data(mock_phyloseq)
FastCoOccur(mock_phyloseq, "day", 0.05)
```
